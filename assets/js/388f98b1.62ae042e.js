"use strict";(self.webpackChunkvirtualclient=self.webpackChunkvirtualclient||[]).push([[7123],{3905:(e,t,i)=>{i.d(t,{Zo:()=>p,kt:()=>m});var n=i(7294);function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){l(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(e,t){if(null==e)return{};var i,n,l=function(e,t){if(null==e)return{};var i,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||(l[i]=e[i]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(l[i]=e[i])}return l}var u=n.createContext({}),s=function(e){var t=n.useContext(u),i=t;return e&&(i="function"==typeof e?e(t):a(a({},t),e)),i},p=function(e){var t=s(e.components);return n.createElement(u.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var i=e.components,l=e.mdxType,r=e.originalType,u=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),d=s(i),m=l,g=d["".concat(u,".").concat(m)]||d[m]||c[m]||r;return i?n.createElement(g,a(a({ref:t},p),{},{components:i})):n.createElement(g,a({ref:t},p))}));function m(e,t){var i=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=i.length,a=new Array(r);a[0]=d;var o={};for(var u in t)hasOwnProperty.call(t,u)&&(o[u]=t[u]);o.originalType=e,o.mdxType="string"==typeof e?e:l,a[1]=o;for(var s=2;s<r;s++)a[s]=i[s];return n.createElement.apply(null,a)}return n.createElement.apply(null,i)}d.displayName="MDXCreateElement"},5063:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>u,contentTitle:()=>a,default:()=>c,frontMatter:()=>r,metadata:()=>o,toc:()=>s});var n=i(7462),l=(i(7294),i(3905));const r={},a="Automated Build and CI/CD pipeline",o={unversionedId:"developing/0001-ci-cd",id:"developing/0001-ci-cd",title:"Automated Build and CI/CD pipeline",description:"The following sections describe the automated build and release process.",source:"@site/docs/developing/0001-ci-cd.md",sourceDirName:"developing",slug:"/developing/0001-ci-cd",permalink:"/VirtualClient/docs/developing/0001-ci-cd",draft:!1,editUrl:"https://github.com/microsoft/VirtualClient/edit/main/website/docs/developing/0001-ci-cd.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Developing",permalink:"/VirtualClient/docs/category/developing"},next:{title:"Developer Guide",permalink:"/VirtualClient/docs/developing/0010-develop-guide"}},u={},s=[{value:"Pull Request",id:"pull-request",level:2},{value:"Documentation Site Build and Publishing",id:"documentation-site-build-and-publishing",level:2},{value:"Build Release Publishing",id:"build-release-publishing",level:2}],p={toc:s};function c(e){let{components:t,...i}=e;return(0,l.kt)("wrapper",(0,n.Z)({},p,i,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"automated-build-and-cicd-pipeline"},"Automated Build and CI/CD pipeline"),(0,l.kt)("p",null,"The following sections describe the automated build and release process."),(0,l.kt)("h2",{id:"pull-request"},"Pull Request"),(0,l.kt)("p",null,"Every pull request need to pass PR build."),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/microsoft/VirtualClient/actions/workflows/pull-request.yml"},(0,l.kt)("img",{parentName:"a",src:"https://github.com/microsoft/VirtualClient/actions/workflows/pull-request.yml/badge.svg",alt:"Pull Request Build"}))),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"GitHub Action:")," ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/microsoft/VirtualClient/actions/workflows/pull-request.yml"},"https://github.com/microsoft/VirtualClient/actions/workflows/pull-request.yml"))),(0,l.kt)("h2",{id:"documentation-site-build-and-publishing"},"Documentation Site Build and Publishing"),(0,l.kt)("p",null,"Virtual Client uses ",(0,l.kt)("a",{parentName:"p",href:"https://docusaurus.io/"},"Docusaurus")," to host front page and documents. Every main branch check-in will trigger a document yarn build and publish to gh-pages branch."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"GitHub Action:")," ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/microsoft/VirtualClient/actions/workflows/deploy-doc.yml"},"https://github.com/microsoft/VirtualClient/actions/workflows/deploy-doc.yml"))),(0,l.kt)("p",null,"If the action is successful and deploys the ",(0,l.kt)("strong",{parentName:"p"},"gh-pages")," branch and the documentation is updated, you will see the following:",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("a",{parentName:"p",href:"https://github.com/microsoft/VirtualClient/actions/workflows/pages/pages-build-deployment"},(0,l.kt)("img",{parentName:"a",src:"https://github.com/microsoft/VirtualClient/actions/workflows/pages/pages-build-deployment/badge.svg",alt:"Document Deployment"}))),(0,l.kt)("p",null,"If the action is NOT successful, you can find out why the Docusaurus build is failing by attempting to build and run it locally. The following documentation\ncovers the details for how to do this."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"../../README.md"},"Docusaurus Integration and Debugging"))),(0,l.kt)("h2",{id:"build-release-publishing"},"Build Release Publishing"),(0,l.kt)("p",null,"This build pipeline is not publicly available because it involves Microsoft signing processes. Because of this distinction, pull requests will\nalways require at least one Microsoft employee to sign off."),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://msazure.visualstudio.com/One/_build/latest?definitionId=297462&branchName=main"},(0,l.kt)("img",{parentName:"a",src:"https://msazure.visualstudio.com/One/_apis/build/status/OneBranch/CRC-AIR-Workloads/microsoft.VirtualClient?branchName=main",alt:"NuGet Release Status"}))),(0,l.kt)("p",null,"New releases of the Virtual Client are published to NuGet.org in the following location:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://www.nuget.org/packages/VirtualClient"},"https://www.nuget.org/packages/VirtualClient")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://www.nuget.org/packages/VirtualClient.Framework"},"https://www.nuget.org/packages/VirtualClient.Framework")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://www.nuget.org/packages/VirtualClient.TestFramework"},"https://www.nuget.org/packages/VirtualClient.TestFramework"))))}c.isMDXComponent=!0}}]);