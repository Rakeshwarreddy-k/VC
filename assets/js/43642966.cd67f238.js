"use strict";(self.webpackChunkvirtualclient=self.webpackChunkvirtualclient||[]).push([[1959],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>d});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),s=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},c=function(e){var t=s(e.components);return n.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},b=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),b=s(a),d=r,u=b["".concat(p,".").concat(d)]||b[d]||m[d]||l;return a?n.createElement(u,i(i({ref:t},c),{},{components:a})):n.createElement(u,i({ref:t},c))}));function d(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=b;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var s=2;s<l;s++)i[s]=a[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}b.displayName="MDXCreateElement"},5644:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>m,frontMatter:()=>l,metadata:()=>o,toc:()=>s});var n=a(7462),r=(a(7294),a(3905));const l={},i="SPECjbb",o={unversionedId:"workloads/specjbb/specjbb",id:"workloads/specjbb/specjbb",title:"SPECjbb",description:"The SPECjbb\xae 2015 benchmark has been developed from the ground up to measure performance based on the latest Java application features.",source:"@site/docs/workloads/specjbb/specjbb.md",sourceDirName:"workloads/specjbb",slug:"/workloads/specjbb/",permalink:"/VirtualClient/docs/workloads/specjbb/",draft:!1,editUrl:"https://github.com/microsoft/VirtualClient/edit/main/website/docs/workloads/specjbb/specjbb.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"SPEC CPU Workload Profiles",permalink:"/VirtualClient/docs/workloads/speccpu/speccpu-profiles"},next:{title:"SPECjbb Workload Profiles",permalink:"/VirtualClient/docs/workloads/specjbb/specjbb-profiles"}},p={},s=[{value:"How to package SPECjbb",id:"how-to-package-specjbb",level:2},{value:"What is Being Measured?",id:"what-is-being-measured",level:2},{value:"Workload Metrics",id:"workload-metrics",level:2}],c={toc:s};function m(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"specjbb"},"SPECjbb"),(0,r.kt)("p",null,"The SPECjbb\xae 2015 benchmark has been developed from the ground up to measure performance based on the latest Java application features.\nIt is relevant to all audiences who are interested in Java server performance, including JVM vendors, hardware developers,\nJava application developers, researchers and members of the academic community."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.spec.org/jbb2015/docs/userguide.pdf"},"SPECjbb Documentation")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://pro.spec.org/private/osg/incoming/"},"SPECjbb Download"),"  "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://pro.spec.org/private/wiki/bin/view/Java/SPECjbb2015_103_Update"},"SPECjbb2015 Release"))),(0,r.kt)("h2",{id:"how-to-package-specjbb"},"How to package SPECjbb"),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Specjbb2015 is a commercial workload. VirtualClient cannot distribute the license and binary. You need to follow the following steps to package this workload and make it available locally or in a storage that you own.")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"SPECjbb can be downloaded here ",(0,r.kt)("a",{parentName:"p",href:"https://pro.spec.org/private/osg/incoming/"},"https://pro.spec.org/private/osg/incoming/"),", with SPEC credentials. Download the desired SPECjbb version like ",(0,r.kt)("inlineCode",{parentName:"p"},"specjbb2015-1.03.zip"),".")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Please preserve the file structure, except insert one ",(0,r.kt)("inlineCode",{parentName:"p"},"specjbb2015.vcpkg")," json file."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-treeview",metastring:"{6}","{6}":!0},"  specjbb2015-1.03\n  \u2502   run_composite.bat\n  \u2502   run_composite.sh\n  \u2502   etc...\n  \u2502   specjbb2015.jar\n  \u2502   specjbb2015.vcpkg\n  \u2502   SPECjbb2015_license.txt\n  \u2502   SPECjbb2015_readme.txt\n  \u2502   src.zip\n  \u2502   version.txt\n  \u251c\u2500\u2500\u2500config/\n  \u251c\u2500\u2500\u2500docs/\n  \u251c\u2500\u2500\u2500lib/\n  \u2514\u2500\u2500\u2500redistributable_sources/\n")),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"specjbb2015.vcpkg")," json example"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "specjbb2015",\n  "description": "SPECjbb 2015 benchmark workload toolsets.",\n  "version": "2015",\n  "metadata": {}\n}\n')))),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"Zip the specjbb2015-1.03 directory into ",(0,r.kt)("inlineCode",{parentName:"li"},"specjbb2015-1.03.zip"),", make sure that no extra ",(0,r.kt)("inlineCode",{parentName:"li"},"/specjbb2015-1.03/")," top directory is created.",(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"7z a specjbb2015-1.03.zip ./specjbb2015-1.03/*\n")),"  or ",(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"cd specjbb2015-1.03; zip -r ../specjbb2015-1.03.zip *\n"))),(0,r.kt)("li",{parentName:"ol"},"Modify the ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/microsoft/VirtualClient/blob/main/src/VirtualClient/VirtualClient.Main/profiles/PERF-SPECjBB.json"},"SPECjbb profile")," as needed. If you are using your own blob storage, you can use the profile as is. If you are copying the zip file locally under ",(0,r.kt)("inlineCode",{parentName:"li"},"vc/packages"),", you can simply remove the DependencyPackageInstallation step.")),(0,r.kt)("h2",{id:"what-is-being-measured"},"What is Being Measured?"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.spec.org/jbb2015/docs/SPECjbb2015-Result_File_Fields.html#max-jops"},"max-jops"),"  "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.spec.org/jbb2015/docs/SPECjbb2015-Result_File_Fields.html#critical-jops"},"critical-jops"))),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Unit"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"hbIR (max attempted)"),(0,r.kt)("td",{parentName:"tr",align:null},"jOPS"),(0,r.kt)("td",{parentName:"tr",align:null},"High Bound Injection Rate (HBIR) (Approximate High Bound of throughput) maximum")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"hbIR (settled)"),(0,r.kt)("td",{parentName:"tr",align:null},"jOPS"),(0,r.kt)("td",{parentName:"tr",align:null},"CHigh Bound Injection Rate (HBIR) (Approximate High Bound of throughput) settled.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"max-jOPS"),(0,r.kt)("td",{parentName:"tr",align:null},"jOPS"),(0,r.kt)("td",{parentName:"tr",align:null},"RT(Response-Throughput) step levels close to max-jOPS.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"critical-jOPS"),(0,r.kt)("td",{parentName:"tr",align:null},"jOPS"),(0,r.kt)("td",{parentName:"tr",align:null},"Geometric mean of jOPS at these SLAs represent the critical-jOPS metric.")))),(0,r.kt)("h2",{id:"workload-metrics"},"Workload Metrics"),(0,r.kt)("p",null,"The following metrics are examples of those captured by the Virtual Client when running the SPECjbb workload."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Metric Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Example Value (min)"),(0,r.kt)("th",{parentName:"tr",align:null},"Example Value (max)"),(0,r.kt)("th",{parentName:"tr",align:null},"Example Value (avg)"),(0,r.kt)("th",{parentName:"tr",align:null},"Unit"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"critical-jOPS"),(0,r.kt)("td",{parentName:"tr",align:null},"915.0"),(0,r.kt)("td",{parentName:"tr",align:null},"11579.0"),(0,r.kt)("td",{parentName:"tr",align:null},"3946.5767634854776"),(0,r.kt)("td",{parentName:"tr",align:null},"jOPS")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"hbIR (max attempted)"),(0,r.kt)("td",{parentName:"tr",align:null},"1949.0"),(0,r.kt)("td",{parentName:"tr",align:null},"23838.0"),(0,r.kt)("td",{parentName:"tr",align:null},"10757.738589211618"),(0,r.kt)("td",{parentName:"tr",align:null},"jOPS")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"hbIR (settled)"),(0,r.kt)("td",{parentName:"tr",align:null},"1814.0"),(0,r.kt)("td",{parentName:"tr",align:null},"22823.0"),(0,r.kt)("td",{parentName:"tr",align:null},"9998.61825726141"),(0,r.kt)("td",{parentName:"tr",align:null},"jOPS")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"max-jOPS"),(0,r.kt)("td",{parentName:"tr",align:null},"1799.0"),(0,r.kt)("td",{parentName:"tr",align:null},"21454.0"),(0,r.kt)("td",{parentName:"tr",align:null},"9114.796680497926"),(0,r.kt)("td",{parentName:"tr",align:null},"jOPS")))))}m.isMDXComponent=!0}}]);