"use strict";(self.webpackChunkvirtualclient=self.webpackChunkvirtualclient||[]).push([[2032],{3905:(t,e,a)=>{a.d(e,{Zo:()=>p,kt:()=>k});var n=a(7294);function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function o(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},l=Object.keys(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var d=n.createContext({}),s=function(t){var e=n.useContext(d),a=e;return t&&(a="function"==typeof t?t(e):i(i({},e),t)),a},p=function(t){var e=s(t.components);return n.createElement(d.Provider,{value:e},t.children)},u={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},m=n.forwardRef((function(t,e){var a=t.components,r=t.mdxType,l=t.originalType,d=t.parentName,p=o(t,["components","mdxType","originalType","parentName"]),m=s(a),k=r,g=m["".concat(d,".").concat(k)]||m[k]||u[k]||l;return a?n.createElement(g,i(i({ref:e},p),{},{components:a})):n.createElement(g,i({ref:e},p))}));function k(t,e){var a=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=a.length,i=new Array(l);i[0]=m;var o={};for(var d in e)hasOwnProperty.call(e,d)&&(o[d]=e[d]);o.originalType=t,o.mdxType="string"==typeof t?t:r,i[1]=o;for(var s=2;s<l;s++)i[s]=a[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},7986:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>d,contentTitle:()=>i,default:()=>u,frontMatter:()=>l,metadata:()=>o,toc:()=>s});var n=a(7462),r=(a(7294),a(3905));const l={},i="DiskSpd",o={unversionedId:"workloads/diskspd/diskspd",id:"workloads/diskspd/diskspd",title:"DiskSpd",description:"DiskSpd a Microsoft toolset designed to simulate different I/O workload patterns. It allows us to quickly define and run workloads, and reports a variety",source:"@site/docs/workloads/diskspd/diskspd.md",sourceDirName:"workloads/diskspd",slug:"/workloads/diskspd/",permalink:"/VirtualClient/docs/workloads/diskspd/",draft:!1,editUrl:"https://github.com/microsoft/VirtualClient/edit/main/website/docs/workloads/diskspd/diskspd.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"DeathStarBench Workload Profiles",permalink:"/VirtualClient/docs/workloads/deathstarbench/deathstarbench-profiles"},next:{title:"DiskSpd Workload Profiles",permalink:"/VirtualClient/docs/workloads/diskspd/diskspd-profiles"}},d={},s=[{value:"What is Being Measured?",id:"what-is-being-measured",level:2},{value:"Workload Metrics",id:"workload-metrics",level:2},{value:"Resources",id:"resources",level:2}],p={toc:s};function u(t){let{components:e,...a}=t;return(0,r.kt)("wrapper",(0,n.Z)({},p,a,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"diskspd"},"DiskSpd"),(0,r.kt)("p",null,"DiskSpd a Microsoft toolset designed to simulate different I/O workload patterns. It allows us to quickly define and run workloads, and reports a variety\nof metrics about each run. This allows us to compare results under different conditions, such as different hardware and firmware configurations, with\nworkloads that reflect production workloads. "),(0,r.kt)("p",null,"The workload enables the ability to test various I/O scenarios that represent real-life usage patterns on computer systems. For example, it\nenables testing sequential read and write operations as well as random read and write operations. It also enables the ability to test single-threaded\nvs. multi-threaded I/O operations as well as the ability to control I/O queue depths and whether hardware caches should be used."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/microsoft/diskspd/blob/master/README.md"},"DiskSpd Documentation"))),(0,r.kt)("h2",{id:"what-is-being-measured"},"What is Being Measured?"),(0,r.kt)("p",null,"The DiskSpd workload measures disk I/O performance focusing on throughput, bandwidth and latencies."),(0,r.kt)("h2",{id:"workload-metrics"},"Workload Metrics"),(0,r.kt)("p",null,"The following metrics are examples of those captured by the Virtual Client when running the DiskSpd workload. This set of metrics\nwill be captured for each one of the distinct scenarios that are part of the profile (e.g. Random Write 4k block size, Random Read 4k block size).\nIt is a lot of data!!"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Metric Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Example Value (min)"),(0,r.kt)("th",{parentName:"tr",align:null},"Example Value (max)"),(0,r.kt)("th",{parentName:"tr",align:null},"Example Value (avg)"),(0,r.kt)("th",{parentName:"tr",align:null},"Unit"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"avg. latency"),(0,r.kt)("td",{parentName:"tr",align:null},"98.82"),(0,r.kt)("td",{parentName:"tr",align:null},"2642.103"),(0,r.kt)("td",{parentName:"tr",align:null},"595.8003536931818"),(0,r.kt)("td",{parentName:"tr",align:null},"milliseconds")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"iops stdev"),(0,r.kt)("td",{parentName:"tr",align:null},"1.89"),(0,r.kt)("td",{parentName:"tr",align:null},"17063.0"),(0,r.kt)("td",{parentName:"tr",align:null},"1804.595497159091"),(0,r.kt)("td",{parentName:"tr",align:null},"operations/sec")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"latency stdev"),(0,r.kt)("td",{parentName:"tr",align:null},"10.33"),(0,r.kt)("td",{parentName:"tr",align:null},"3735.78"),(0,r.kt)("td",{parentName:"tr",align:null},"425.85086221590907"),(0,r.kt)("td",{parentName:"tr",align:null},"milliseconds")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"read IO operations"),(0,r.kt)("td",{parentName:"tr",align:null},"932417.0"),(0,r.kt)("td",{parentName:"tr",align:null},"24483796.0"),(0,r.kt)("td",{parentName:"tr",align:null},"19563267.372093023"),(0,r.kt)("td",{parentName:"tr",align:null},"operations")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"read avg. latency"),(0,r.kt)("td",{parentName:"tr",align:null},"98.822"),(0,r.kt)("td",{parentName:"tr",align:null},"2589.675"),(0,r.kt)("td",{parentName:"tr",align:null},"591.2786279069768"),(0,r.kt)("td",{parentName:"tr",align:null},"milliseconds")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"read iops"),(0,r.kt)("td",{parentName:"tr",align:null},"3108.04"),(0,r.kt)("td",{parentName:"tr",align:null},"81608.97"),(0,r.kt)("td",{parentName:"tr",align:null},"65209.23595930233"),(0,r.kt)("td",{parentName:"tr",align:null},"operations/sec")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"read iops stdev"),(0,r.kt)("td",{parentName:"tr",align:null},"2.96"),(0,r.kt)("td",{parentName:"tr",align:null},"5394.54"),(0,r.kt)("td",{parentName:"tr",align:null},"1697.3215697674419"),(0,r.kt)("td",{parentName:"tr",align:null},"operations/sec")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"read latency stdev"),(0,r.kt)("td",{parentName:"tr",align:null},"12.35"),(0,r.kt)("td",{parentName:"tr",align:null},"3603.306"),(0,r.kt)("td",{parentName:"tr",align:null},"607.8916889534884"),(0,r.kt)("td",{parentName:"tr",align:null},"milliseconds")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"read throughput"),(0,r.kt)("td",{parentName:"tr",align:null},"312.29"),(0,r.kt)("td",{parentName:"tr",align:null},"3113.01"),(0,r.kt)("td",{parentName:"tr",align:null},"1243.1043895348835"),(0,r.kt)("td",{parentName:"tr",align:null},"mebibytes/sec")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"read total bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"98238738432.0"),(0,r.kt)("td",{parentName:"tr",align:null},"979291340800.0"),(0,r.kt)("td",{parentName:"tr",align:null},"391056506701.3953"),(0,r.kt)("td",{parentName:"tr",align:null},"bytes")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"total IO operations"),(0,r.kt)("td",{parentName:"tr",align:null},"929378.0"),(0,r.kt)("td",{parentName:"tr",align:null},"24483796.0"),(0,r.kt)("td",{parentName:"tr",align:null},"19509977.224431818"),(0,r.kt)("td",{parentName:"tr",align:null},"operations")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"total bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"89273675776.0"),(0,r.kt)("td",{parentName:"tr",align:null},"979363692544.0"),(0,r.kt)("td",{parentName:"tr",align:null},"392139310382.5455"),(0,r.kt)("td",{parentName:"tr",align:null},"bytes")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"total iops"),(0,r.kt)("td",{parentName:"tr",align:null},"3097.8"),(0,r.kt)("td",{parentName:"tr",align:null},"81608.97"),(0,r.kt)("td",{parentName:"tr",align:null},"65031.59069602272"),(0,r.kt)("td",{parentName:"tr",align:null},"operations/sec")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"total throughput"),(0,r.kt)("td",{parentName:"tr",align:null},"283.78"),(0,r.kt)("td",{parentName:"tr",align:null},"3113.22"),(0,r.kt)("td",{parentName:"tr",align:null},"1246.5455397727274"),(0,r.kt)("td",{parentName:"tr",align:null},"mebibytes/sec")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"write IO operations"),(0,r.kt)("td",{parentName:"tr",align:null},"929378.0"),(0,r.kt)("td",{parentName:"tr",align:null},"24480568.0"),(0,r.kt)("td",{parentName:"tr",align:null},"19459055.527777777"),(0,r.kt)("td",{parentName:"tr",align:null},"operations")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"write avg. latency"),(0,r.kt)("td",{parentName:"tr",align:null},"98.82"),(0,r.kt)("td",{parentName:"tr",align:null},"2642.103"),(0,r.kt)("td",{parentName:"tr",align:null},"600.1211138888888"),(0,r.kt)("td",{parentName:"tr",align:null},"milliseconds")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"write iops"),(0,r.kt)("td",{parentName:"tr",align:null},"3097.8"),(0,r.kt)("td",{parentName:"tr",align:null},"81601.41"),(0,r.kt)("td",{parentName:"tr",align:null},"64861.84077777777"),(0,r.kt)("td",{parentName:"tr",align:null},"operations/sec")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"write iops stdev"),(0,r.kt)("td",{parentName:"tr",align:null},"1.89"),(0,r.kt)("td",{parentName:"tr",align:null},"17063.0"),(0,r.kt)("td",{parentName:"tr",align:null},"1907.1016944444444"),(0,r.kt)("td",{parentName:"tr",align:null},"operations/sec")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"write latency stdev"),(0,r.kt)("td",{parentName:"tr",align:null},"10.33"),(0,r.kt)("td",{parentName:"tr",align:null},"3735.78"),(0,r.kt)("td",{parentName:"tr",align:null},"251.90073888888888"),(0,r.kt)("td",{parentName:"tr",align:null},"milliseconds")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"write throughput"),(0,r.kt)("td",{parentName:"tr",align:null},"283.78"),(0,r.kt)("td",{parentName:"tr",align:null},"3113.22"),(0,r.kt)("td",{parentName:"tr",align:null},"1249.83375"),(0,r.kt)("td",{parentName:"tr",align:null},"mebibytes/sec")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"write total bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"89273675776.0"),(0,r.kt)("td",{parentName:"tr",align:null},"979363692544.0"),(0,r.kt)("td",{parentName:"tr",align:null},"393173989455.6445"),(0,r.kt)("td",{parentName:"tr",align:null},"bytes")))),(0,r.kt)("h2",{id:"resources"},"Resources"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/en-us/azure-stack/hci/manage/diskspd-overview"},"Azure Stack: DiskSpd Overview"),"  "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/Microsoft/diskspd/wiki/Command-line-and-parameters"},"DiskSpd Command Line Parameters"),"  "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://storageioblog.com/server-storage-io-benchmarking-tools-microsoft-diskspd-part/"},"Server Storage I/O Benchmark Tools: Microsoft Diskspd (Part I)"),"  "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://storageioblog.com/microsoft-diskspd-part-ii-server-storage-io-benchmark-tools/"},"Server Storage I/O Benchmark Tools: Microsoft Diskspd (Part II)"))))}u.isMDXComponent=!0}}]);